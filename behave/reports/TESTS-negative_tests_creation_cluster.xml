<?xml version='1.0' encoding='utf8'?>
<testsuite failures="1" name="negative_tests_creation_cluster.Negative tests of cluster section" skips="0" tests="16" time="0.448"><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with name &quot;QA-cluster&quot;" time="0.156"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "202" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": 1}, "name": "QA-cluster", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 202

202 == 202

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with blank cluster name" time="0.124"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": 1}, "name": "", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with name &quot;QA-cluster&quot; that already exists" time="0.013"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": 1}, "name": "QA-cluster", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with invalid characters in cluster name" time="0.007"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": 1}, "name": "QA_*&cluster", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with space in cluster name" time="0.006"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": 1}, "name": "QA cluster", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with blank base image ID" time="0.006"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": 1}, "name": "QA-cluster-1", "base_image_id": ""}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with wrong base image ID #This cluster create #No validation" time="0.0"><system-out>
<![CDATA[Steps:
]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with negative parameter in number of jt_nn" time="0.026"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": -1, "tt_dn.small": 1}, "name": "QA-cluster-3", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with negative parameter in number of tt_dn" time="0.018"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "tt_dn.small": -1}, "name": "QA-cluster-4", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with characters in number of jt_nn #No validation" time="0.0"><system-out>
<![CDATA[Steps:
]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with characters in number of tt_dn #No validation" time="0.0"><system-out>
<![CDATA[Steps:
]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with nonexistent JT and NN" time="0.024"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"abc": 1, "tt_dn.small": 1}, "name": "QA-cluster-7", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with nonexistent TT and DN" time="0.019"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "abc": 1}, "name": "QA-cluster-8", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with empty value for JT and NN" time="0.017"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"": 1, "tt_dn.small": 1}, "name": "QA-cluster-9", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can create cluster with empty value for TT and DN" time="0.024"><system-out>
<![CDATA[Steps:
       Given cluster data ... passed
        When User create cluster ... passed
        Then Response is "400" ... passed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
data = {"cluster": {"node_templates": {"jt_nn.medium": 1, "": 1}, "name": "QA-cluster-10", "base_image_id": "d9342ba8-4c51-441c-8d5b-f9e14a901299"}}
response = 400

400 == 400

]]>
</system-out></testcase><testcase classname="negative_tests_creation_cluster.Negative tests of cluster section" name="User can get clusters, if all cluster is delete" time="0.007"><failure message="None" type="NoneType">Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 753, in run
    match.run(runner.context)
  File "/usr/local/lib/python2.7/dist-packages/behave/model.py", line 1045, in run
    self.func(context, *args, **kwargs)
  File "/home/hadoop/eoh/savanna/behave/features/steps/then_steps.py", line 20, in response_list_clusters
    assert str(names) == str(list)
AssertionError

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
response = 200

200 == 200
[u'QA-cluster'] == []

Captured logging:
INFO:requests.packages.urllib3.connectionpool:Starting new HTTP connection (1): 127.0.0.1
DEBUG:requests.packages.urllib3.connectionpool:"GET /v0.2/6b26f08455ec449ea7a2d3da75339255/clusters HTTP/1.1" 200 247</failure><system-out>
<![CDATA[Steps:
        When User see clusters ... passed
        Then Response is "200" ... passed
         And Response list of list clusters:"[]" ... failed

Captured stdout:
URL = http://127.0.0.1:8080/v0.2/6b26f08455ec449ea7a2d3da75339255/clusters
response = 200

200 == 200
[u'QA-cluster'] == []

]]>
</system-out></testcase></testsuite>